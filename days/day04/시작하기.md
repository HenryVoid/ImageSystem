# Day 4 시작하기

> Image I/O로 EXIF 읽기 학습을 위한 빠른 시작 가이드

---

## 🎯 오늘의 학습 목표

EXIF 메타데이터를 효율적으로 읽고 활용하는 방법을 배웁니다.

---

## ⚡ 빠른 시작 (5분)

### 1단계: 프로젝트 열기
```bash
cd day04
open day04.xcodeproj
```

### 2단계: 샘플 이미지 준비

⚠️ **중요**: 앱이 제대로 동작하려면 EXIF 데이터가 포함된 샘플 이미지가 필요합니다.

#### 옵션 A: iPhone에서 사진 촬영 (권장)
1. iPhone 카메라 앱 실행
2. **설정 → 개인정보 보호 → 위치 서비스** 켜기
3. 카메라 앱에 위치 권한 허용
4. 사진 촬영
5. Mac으로 AirDrop 전송
6. Xcode에서 사용

#### 옵션 B: 무료 샘플 이미지
1. [Unsplash](https://unsplash.com) 또는 [Pexels](https://pexels.com)에서 다운로드
2. 주의: 대부분의 웹 이미지는 EXIF가 제거되어 있음
3. 카메라로 촬영한 원본 이미지가 가장 좋음

### 3단계: Assets에 이미지 추가

1. Xcode에서 `day04/day04/Assets.xcassets` 열기
2. 좌측 하단 `+` 클릭 → "New Image Set"
3. 이름을 `sample-exif`로 변경
4. 준비한 이미지를 드래그 앤 드롭
5. Attributes Inspector에서:
   - ✅ "Preserve Vector Data" 체크 해제
   - ✅ "Single Scale" 선택

### 4단계: 앱 실행
```
⌘R
```

---

## 📚 학습 순서

### 1️⃣ 이론 학습 (20분)
```
IMAGE_IO_THEORY.md 읽기
```
- EXIF 기초 개념
- Image I/O 프레임워크
- CGImageSource 사용법

### 2️⃣ 기본 실습 (30분)

**BasicEXIFView**
- 샘플 이미지에서 EXIF 읽기
- 카메라 정보, 촬영 설정 확인

**DetailedEXIFView**
- 섹션별 상세 메타데이터 탐색
- EXIF, TIFF, GPS 딕셔너리 이해

### 3️⃣ 실전 응용 (40분)

**PhotoLibraryView**
- 기기의 실제 사진 선택
- PhotosUI 사용법 학습

**GPSLocationView**
- GPS 태그 파싱
- MapKit으로 지도에 위치 표시

### 4️⃣ 성능 실험 (20분)

**BenchmarkView**
- Image I/O vs UIImage 성능 비교
- 메모리 사용량 측정

### 5️⃣ 가이드 읽기 (30분)
```
EXIF_GUIDE.md          - 실무 활용법
PERFORMANCE_GUIDE.md   - 성능 최적화
```

**총 학습 시간: 약 2-3시간**

---

## 🔑 핵심 코드

### EXIF 읽기
```swift
// URL에서 읽기
let exifData = EXIFReader.loadEXIFData(from: imageURL)

// 정보 출력
print(exifData?.cameraMake)         // "Apple"
print(exifData?.cameraModel)        // "iPhone 14 Pro"
print(exifData?.formattedISO)       // "ISO 200"
print(exifData?.formattedAperture)  // "f/1.8"
print(exifData?.formattedShutterSpeed) // "1/120s"
```

### GPS 좌표
```swift
if let coordinate = exifData?.coordinate {
    print("위도: \(coordinate.latitude)")
    print("경도: \(coordinate.longitude)")
}

if let altitude = exifData?.altitude {
    print("고도: \(altitude)m")
}
```

### 썸네일 생성
```swift
let options: [CFString: Any] = [
    kCGImageSourceThumbnailMaxPixelSize: 200,
    kCGImageSourceCreateThumbnailFromImageAlways: true
]

let source = CGImageSourceCreateWithURL(url as CFURL, nil)
let thumbnail = CGImageSourceCreateThumbnailAtIndex(source, 0, options as CFDictionary)
```

---

## ⚠️ 주의사항

### EXIF가 없는 경우
다음 이미지들은 EXIF가 없거나 제거되었을 수 있습니다:
- ❌ 스크린샷
- ❌ 웹에서 다운로드한 이미지
- ❌ 편집된 이미지 (일부 앱)
- ❌ SNS에 업로드했다가 다운로드한 이미지

반드시 사용하세요:
- ✅ 기본 카메라 앱으로 촬영한 원본
- ✅ AirDrop으로 전송한 원본
- ✅ Files 앱에서 복사한 원본

### GPS가 없는 경우
GPS 정보는 다음 조건에서만 포함됩니다:
- ✅ 위치 서비스 켜짐
- ✅ 카메라 앱에 위치 권한 허용
- ✅ GPS 신호 수신 가능한 환경

실내에서 촬영하면 GPS가 부정확하거나 없을 수 있습니다.

---

## 🐛 문제 해결

### "EXIF 데이터가 없습니다" 오류

**원인**: 샘플 이미지가 EXIF를 포함하지 않음

**해결**:
1. 카메라 앱으로 직접 촬영
2. 사진 앱에서 이미지 정보 확인
3. AirDrop으로 Mac에 전송
4. Assets에 다시 추가

### "GPS 정보가 없습니다" 메시지

**원인**: 이미지에 GPS 태그가 없음

**해결**:
1. iPhone 설정 → 개인정보 보호 → 위치 서비스 켜기
2. 카메라 앱 권한 확인
3. 야외에서 촬영 (GPS 신호)
4. 사진 앱에서 위치 정보 확인

### 시뮬레이터에서 사진 선택 불가

**원인**: 시뮬레이터에는 기본 사진이 없음

**해결**:
1. 웹에서 이미지 다운로드
2. Finder에서 시뮬레이터로 드래그
3. 또는 실제 기기에서 테스트

---

## 📱 실제 기기 테스트

시뮬레이터보다 **실제 기기**를 권장합니다:

### 장점
- ✅ 실제 카메라로 촬영 가능
- ✅ GPS 정보 포함
- ✅ 더 많은 EXIF 데이터
- ✅ 사진 라이브러리 테스트 가능

### 설정
1. iPhone을 Mac에 연결
2. Xcode에서 기기 선택
3. Signing & Capabilities 설정
4. ⌘R 실행

---

## 🎓 학습 팁

### 효과적인 학습 방법

1. **이론 먼저**: IMAGE_IO_THEORY.md 정독
2. **코드 실행**: 각 View를 직접 실행해보기
3. **코드 수정**: 값을 바꿔가며 실험
4. **본인 사진**: 직접 촬영한 사진으로 테스트
5. **가이드 읽기**: EXIF_GUIDE.md, PERFORMANCE_GUIDE.md

### 실습 아이디어

- 📊 본인의 사진 통계 분석
  - 가장 많이 사용한 ISO는?
  - 평균 조리개 값은?
  - 어느 위치에서 가장 많이 촬영했나?

- 🗺️ 사진 지도 만들기
  - GPS 태그가 있는 모든 사진
  - 지도에 마커로 표시
  - 탭하면 사진 보기

- 📸 EXIF 비교 도구
  - 여러 카메라 모델 비교
  - 설정에 따른 결과 비교
  - 베스트 설정 찾기

---

## ✅ 완료 체크리스트

학습을 마치면 다음을 확인하세요:

### 기본
- [ ] 프로젝트를 성공적으로 실행했다
- [ ] BasicEXIFView에서 EXIF를 읽었다
- [ ] DetailedEXIFView에서 섹션별 데이터를 확인했다
- [ ] PhotoLibraryView에서 본인 사진을 선택했다
- [ ] GPSLocationView에서 지도를 확인했다
- [ ] BenchmarkView에서 성능을 측정했다

### 이론
- [ ] EXIF가 무엇인지 설명할 수 있다
- [ ] Image I/O의 장점을 안다
- [ ] CGImageSource를 사용할 수 있다
- [ ] GPS 태그를 파싱할 수 있다

### 가이드
- [ ] EXIF_GUIDE.md를 읽었다
- [ ] PERFORMANCE_GUIDE.md를 읽었다
- [ ] 실무 활용 사례를 이해했다

---

## 📖 다음 단계

Day 4를 완료했다면:

1. **복습**: 코드를 다시 읽어보기
2. **응용**: 나만의 기능 추가해보기
3. **공유**: 배운 내용 정리하기
4. **다음**: Day 5로 진행

---

## 💬 도움이 필요하신가요?

- 📚 README.md - 전체 가이드
- 📖 IMAGE_IO_THEORY.md - 이론 설명
- 🔧 EXIF_GUIDE.md - 실무 활용
- ⚡ PERFORMANCE_GUIDE.md - 성능 최적화

---

**즐거운 학습 되세요! 📸**


