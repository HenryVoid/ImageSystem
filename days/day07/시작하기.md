# 시작하기

> Day 7 미니 프로젝트 빠른 시작 가이드

---

## 🚀 빠른 시작

### 1. 프로젝트 열기

```bash
cd /Users/woogi/Documents/ImageSystem/days/day07
open day07.xcodeproj
```

### 2. 빌드 및 실행

```
⌘R (Run)
```

### 3. 기본 탐색

앱이 실행되면 4개의 탭이 보입니다:

1. **SwiftUI**: SwiftUI 기반 이미지 갤러리
2. **UIKit**: UIKit 기반 이미지 갤러리
3. **필터**: Core Image 필터 테스트
4. **벤치마크**: 성능 측정

---

## 📱 앱 사용 방법

### Tab 1: SwiftUI 갤러리

**기본 사용**:
1. 썸네일 그리드 확인
2. 이미지 탭하여 상세보기
3. 핀치 줌 (확대/축소)
4. 드래그로 이동
5. 더블탭으로 리셋
6. 'i' 버튼으로 메타데이터 확인

**제스처**:
- **핀치**: 0.5x ~ 5.0x 줌
- **드래그**: 이미지 이동
- **더블탭**: 원래 크기로 리셋

### Tab 2: UIKit 갤러리

**기본 사용**:
1. UICollectionView 기반 그리드
2. 이미지 탭하여 상세보기
3. UIScrollView 기반 줌
4. 더블탭으로 줌 in/out
5. 관성 스크롤 지원

**비교 포인트**:
- SwiftUI와 UX 비교
- 성능 차이 체감
- 코드 복잡도 이해

### Tab 3: 필터 테스트

**필터 적용**:
1. 아래 필터 버튼 탭하여 선택 (최대 3개)
2. 선택된 필터는 파란색으로 표시
3. "적용" 버튼으로 필터 체인 실행
4. 처리 시간 확인

**프리셋 사용**:
1. 프리셋 카드 탭
2. 자동으로 필터 조합 적용
3. 결과 확인

**초기화**:
- "초기화" 버튼으로 원본 복구

### Tab 4: 벤치마크

**테스트 실행**:
1. "이미지 로딩 테스트" - 포맷별 로딩 시간
2. "필터 체인 테스트" - 필터 조합 처리 시간
3. "썸네일 생성 테스트" - 크기별 생성 시간
4. "전체 테스트 실행" - 모든 테스트 순차 실행

**결과 확인**:
- 평균/최소/최대 시간
- 메모리 사용량
- 반복 횟수

---

## 🖼️ 샘플 이미지 추가

### 방법 1: Asset Catalog에 추가

1. Xcode에서 `Assets.xcassets` 열기
2. 왼쪽 하단 `+` 버튼 클릭
3. "Image Set" 선택
4. 이름 입력 (예: `sample4`)
5. 이미지 파일 드래그 & 드롭

**권장 크기**: 2000x1500px 이상

### 방법 2: WebP 이미지 추가 (iOS 14+)

WebP는 "Data Set"으로 추가:

1. `Assets.xcassets`에서 `+` 클릭
2. "Data Set" 선택
3. 이름 입력 (예: `sample5`)
4. `.webp` 파일 드래그 & 드롭

**참고**: WebP는 iOS 14+에서 기본 지원

### 방법 3: 코드에서 이미지 항목 추가

`GalleryGridView.swift` 수정:

```swift
struct ImageItem: Identifiable {
    let id = UUID()
    let name: String
    let format: String
    
    static let samples: [ImageItem] = [
        ImageItem(name: "sample", format: "PNG"),
        ImageItem(name: "sample2", format: "PNG"),
        ImageItem(name: "sample3", format: "WebP"),
        ImageItem(name: "sample4", format: "PNG"),  // 새로 추가
    ]
}
```

---

## 🔧 Instruments 연결

### 방법 1: Xcode에서 직접

1. 프로젝트 선택
2. ⌘I (Product > Profile)
3. 템플릿 선택:
   - **Time Profiler**: CPU 사용률
   - **Logging**: os_signpost 로그
   - **Allocations**: 메모리 할당
   - **Leaks**: 메모리 누수
4. Record 버튼 클릭
5. 앱에서 작업 수행
6. Stop 버튼 클릭
7. 결과 분석

### 방법 2: Instruments 앱에서

1. Xcode 메뉴: Xcode > Open Developer Tool > Instruments
2. 템플릿 선택
3. Target 선택 (day07 앱)
4. Record 시작

### os_signpost 확인

**Logging 템플릿 사용**:

1. ⌘I → Logging 선택
2. Record 시작
3. 앱의 "벤치마크" 탭에서 테스트 실행
4. Stop
5. Points of Interest 확인

**확인 가능한 signpost**:
- `Image_Load`: 이미지 로딩 시간
- `Image_Render`: 렌더링 시간
- `Filter_Apply`: 필터 적용 시간
- `Thumbnail_Generate`: 썸네일 생성 시간

### Console.app에서 로그 확인

1. Console.app 실행
2. 디바이스/시뮬레이터 선택
3. 필터: `subsystem:com.study.day07`
4. 앱 실행 및 작업 수행
5. 실시간 로그 확인

**카테고리별 로그**:
- `loading`: 이미지 로딩
- `rendering`: 렌더링
- `filtering`: 필터 적용
- `memory`: 메모리 사용
- `benchmark`: 벤치마크 결과

---

## ⚙️ 프로젝트 설정

### 최소 요구사항

- **Xcode**: 14.0+
- **iOS Deployment Target**: 14.0+
- **Swift**: 5.0+

### 의존성

**기본 구성** (SPM 불필요):
- UIKit (시스템)
- SwiftUI (시스템)
- CoreImage (시스템)
- ImageIO (시스템)

**선택사항** (WebP 향상 지원):
- SDWebImage (SPM)
- SDWebImageWebPCoder (SPM)

### SDWebImage 추가 (선택)

WebP 지원을 강화하려면:

1. Xcode에서 프로젝트 선택
2. 타겟 선택 → General 탭
3. Frameworks, Libraries, and Embedded Content
4. `+` 버튼 클릭
5. "Add Other..." → "Add Package Dependency..."
6. URL 입력: `https://github.com/SDWebImage/SDWebImage.git`
7. Version: "Latest"
8. Add Package

**참고**: iOS 14+는 WebP 기본 지원하므로 선택사항입니다.

---

## 🐛 문제 해결

### 빌드 에러

**문제**: "Cannot find 'ImageLoader' in scope"

**해결**:
1. Product > Clean Build Folder (⇧⌘K)
2. Product > Build (⌘B)

---

**문제**: WebP 이미지가 표시되지 않음

**해결**:
1. iOS 14+ 확인
2. Data Set으로 추가 확인
3. 파일 확장자 `.webp` 확인

---

### 실행 에러

**문제**: "이미지를 찾을 수 없습니다"

**해결**:
1. Assets.xcassets에서 이미지 이름 확인
2. Target Membership 확인
3. 대소문자 정확히 일치 확인

---

**문제**: 앱이 느리거나 멈춤

**해결**:
1. 시뮬레이터 리셋: Device > Erase All Content and Settings
2. Xcode 재시작
3. 실제 기기에서 테스트

---

### Instruments 문제

**문제**: Signpost가 보이지 않음

**해결**:
1. Logging 템플릿 사용 확인
2. "com.study.day07" 서브시스템 필터 확인
3. Points of Interest 탭 확인
4. 벤치마크 실행 확인

---

**문제**: Profiling이 느림

**해결**:
1. Release 빌드로 프로파일링
2. 시뮬레이터 대신 실제 기기 사용
3. 디버깅 옵션 끄기

---

## 📚 학습 순서

### Day 1 (1시간)

1. **앱 탐색** (15분)
   - 4개 탭 모두 둘러보기
   - 기본 기능 테스트

2. **SwiftUI vs UIKit 비교** (20분)
   - 각 탭에서 동일 작업 수행
   - UX 차이 체감
   - 성능 차이 관찰

3. **필터 테스트** (15분)
   - 다양한 필터 조합 시도
   - 처리 시간 확인
   - 프리셋 테스트

4. **벤치마크 실행** (10분)
   - 모든 테스트 실행
   - 결과 확인 및 비교

### Day 2 (2시간)

1. **코드 읽기** (1시간)
   - Core/ 모듈 이해
   - Views/ 구조 파악
   - tool/ 성능 측정 로직

2. **Instruments 연습** (30분)
   - Time Profiler 사용
   - Logging으로 signpost 확인
   - Allocations으로 메모리 확인

3. **문서 읽기** (30분)
   - IMAGE_VIEWER_GUIDE.md
   - FILTER_INTEGRATION_GUIDE.md
   - PERFORMANCE_ANALYSIS.md

### Day 3 (2시간)

1. **커스터마이징** (1시간)
   - 새 이미지 추가
   - 필터 파라미터 조정
   - UI 수정

2. **성능 최적화** (30분)
   - 캐시 크기 조정
   - 썸네일 크기 변경
   - 필터 순서 최적화

3. **실습 프로젝트** (30분)
   - 학습 내용을 자신의 프로젝트에 적용
   - 추가 기능 구현

---

## 🎯 학습 목표 달성 체크

### 기본 (Day 1)
- [ ] 앱의 4가지 탭 모두 사용해봄
- [ ] SwiftUI와 UIKit 차이 이해
- [ ] 필터 체인 구성해봄
- [ ] 벤치마크 실행하고 결과 확인

### 응용 (Day 2)
- [ ] 코드 구조 이해
- [ ] Instruments 사용법 숙지
- [ ] os_signpost로 성능 측정
- [ ] 가이드 문서 읽음

### 심화 (Day 3)
- [ ] 이미지 추가 및 커스터마이징
- [ ] 성능 최적화 시도
- [ ] 자신의 프로젝트에 적용
- [ ] 추가 기능 구현

---

## 📞 도움말

### 더 알아보기

- **README.md**: 전체 프로젝트 개요
- **IMAGE_VIEWER_GUIDE.md**: 뷰어 구현 상세
- **FILTER_INTEGRATION_GUIDE.md**: 필터 통합 가이드
- **PERFORMANCE_ANALYSIS.md**: 성능 분석 가이드

### 이전 학습 복습

- **Day 1**: UIImage 기초
- **Day 2**: Core Graphics
- **Day 3**: Core Image
- **Day 4**: ImageIO & EXIF
- **Day 5**: 포맷 변환
- **Day 6**: SwiftUI 렌더링

---

**즐거운 학습 되세요! 🎉**

