# Day 03 시작하기

> Core Image 필터 체인 학습 프로젝트

---

## 🚀 빠른 시작

### 1. Xcode 프로젝트 생성

현재 소스 파일들이 준비되어 있습니다. Xcode 프로젝트를 생성해야 합니다.

#### 방법 1: Xcode에서 생성 (권장)

```
1️⃣ Xcode 실행

2️⃣ File > New > Project

3️⃣ iOS > App 선택

4️⃣ 설정:
   - Product Name: day03
   - Interface: SwiftUI
   - Language: Swift
   - 저장 위치: /Users/woogi/Documents/ImageSystem/days/day03/

5️⃣ 생성된 프로젝트의 파일들을 삭제하고
   day03/ 폴더의 파일들을 프로젝트에 추가:
   
   - day03App.swift
   - ContentView.swift
   - Views/ 폴더 (모든 View 파일)
   - Core/ 폴더 (ImageProcessor, FilterChain, FilterFactory)
   - tool/ 폴더 (성능 측정 도구)
   - Assets.xcassets (이미지)
   - 문서들 (*.md)

6️⃣ Build Settings 확인:
   - Deployment Target: iOS 15.0 이상
   - Swift Language Version: Swift 5
```

#### 방법 2: 기존 프로젝트 복사

```bash
# day01 프로젝트를 복사하여 수정
cp -r day01-uiimage-vs-swiftui-image/day01/ day03/
cd day03/day03/day03/

# 기존 파일들을 새 파일로 교체
# (이미 준비되어 있음)
```

---

## 📚 학습 순서

### Step 1: 이론 학습 (필수!)

```bash
# 터미널에서 열기
open day03/CORE_IMAGE_THEORY.md
open day03/FILTER_CHAIN_GUIDE.md
```

**핵심 개념:**
- CIImage: 이미지 "레시피"
- CIFilter: 필터 "명령"
- CIContext: 렌더링 "공장"
- **필터 체인: 10배 빠른 마법** ⭐

### Step 2: 프로젝트 실행

```bash
# Xcode에서 열기
open day03/day03.xcodeproj
```

### Step 3: 실습

```
1️⃣ BasicFilterView
   → 단일 필터 효과 확인

2️⃣ FilterChainView ⭐ (핵심!)
   → 필터 체인 단계별 시각화
   → 레이지 평가 체험

3️⃣ RealtimeFilterView
   → 실시간 필터 처리
   → FPS 확인

4️⃣ BenchmarkView
   → 성능 측정
   → 10배 차이 확인!
```

---

## 📁 파일 구조

```
day03/
├── day03/
│   ├── day03/
│   │   ├── day03App.swift           ✅ 생성 완료
│   │   ├── ContentView.swift        ✅ 생성 완료
│   │   │
│   │   ├── Views/                   ✅ 생성 완료
│   │   │   ├── BasicFilterView.swift
│   │   │   ├── FilterChainView.swift
│   │   │   ├── RealtimeFilterView.swift
│   │   │   └── BenchmarkView.swift
│   │   │
│   │   ├── Core/                    ✅ 생성 완료
│   │   │   ├── ImageProcessor.swift
│   │   │   ├── FilterChain.swift
│   │   │   └── FilterFactory.swift
│   │   │
│   │   ├── tool/                    ✅ 생성 완료
│   │   │   ├── PerformanceLogger.swift
│   │   │   ├── SignpostHelper.swift
│   │   │   └── MemorySampler.swift
│   │   │
│   │   └── Assets.xcassets/         ✅ 생성 완료
│   │       └── sample.imageset/
│   │
│   └── day03.xcodeproj/             ⚠️ 생성 필요
│
├── CORE_IMAGE_THEORY.md             ✅ 생성 완료
├── FILTER_CHAIN_GUIDE.md            ✅ 생성 완료
├── PERFORMANCE_GUIDE.md             ✅ 생성 완료
└── 시작하기.md                       ✅ 이 파일
```

---

## ✅ 체크리스트

### 프로젝트 설정
- [ ] Xcode 프로젝트 생성
- [ ] 소스 파일들 추가
- [ ] Build Settings 확인 (iOS 15.0+)
- [ ] 샘플 이미지 확인

### 이론 학습
- [ ] CORE_IMAGE_THEORY.md 읽기
- [ ] FILTER_CHAIN_GUIDE.md 정독 ⭐
- [ ] 필터 체인 개념 이해

### 실습
- [ ] BasicFilterView 실행
- [ ] FilterChainView 시각화 확인 ⭐
- [ ] RealtimeFilterView FPS 체크
- [ ] BenchmarkView 성능 측정

### 측정 결과
- [ ] 필터 체인 vs 개별 렌더링: 10배 차이 확인
- [ ] Context 재사용: 10배 차이 확인
- [ ] Metal vs CPU: 5배 차이 확인

---

## 🎯 학습 목표

이 프로젝트를 완료하면:

✅ Core Image의 3가지 핵심 구성요소 이해
✅ 필터 체인의 동작 원리 완벽 이해
✅ 레이지 평가 개념 숙지
✅ 실시간 이미지 처리 구현 능력
✅ 성능 최적화 기법 습득
✅ 10배 빠른 코드 작성 능력

---

## ⚠️ 주의사항

1. **실기기에서 테스트**: 시뮬레이터는 Mac GPU 사용 (부정확)
2. **Release 모드**: Debug는 최적화 꺼져있음
3. **이론 먼저**: 필터 체인 가이드 필독!
4. **샘플 이미지**: 없으면 시스템 이미지 사용됨

---

## 💡 핵심 발견 (미리보기)

### 필터 체인의 마법

```
매번 렌더링:
블러 적용 → 렌더링 (100ms)
밝기 적용 → 렌더링 (100ms)
채도 적용 → 렌더링 (100ms)
총: 300ms, 12MB

필터 체인:
블러 + 밝기 + 채도 → 렌더링 (30ms)
총: 30ms, 4MB

→ 10배 빠르고, 메모리 1/3!
```

### 왜 빠른가?

1. **레이지 평가**: 필요할 때만 처리
2. **GPU 최적화**: 전체 체인을 분석하고 최적화
3. **한번의 패스**: 모든 필터를 한번에 적용
4. **메모리 효율**: 중간 결과물 저장 안함

---

## 📚 다음 단계

1. **이론 복습**: 필터 체인 가이드 다시 읽기
2. **코드 분석**: ImageProcessor.swift 분석
3. **성능 측정**: BenchmarkView로 정량 측정
4. **실전 적용**: Instagram 스타일 필터 만들기

---

**Happy Learning! 🚀**

필터 체인의 마법을 체험하고, 10배 빠른 이미지 처리를 마스터하세요!

