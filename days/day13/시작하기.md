# Day 13 시작하기

> Metal 블러 프로젝트를 3분 안에 실행하고 체험하는 빠른 가이드

---

## ⚡ 빠른 시작 (3분)

### 1단계: 프로젝트 열기 (30초)

```bash
cd day13
open day13.xcodeproj
```

### 2단계: 빌드 & 실행 (1분)

1. Xcode에서 시뮬레이터 선택
   - iPhone 14 Pro 이상 권장
2. `⌘R` 누르기 (또는 Run 버튼)
3. 빌드 완료 대기 (첫 빌드: ~30-60초)

### 3단계: 첫 블러 체험 (1분 30초)

**앱이 실행되면:**

1. **"이미지" 탭** 클릭 (우측 하단)
2. **"샘플 생성"** 버튼 클릭
   - 중간 크기 선택 (기본값)
   - 테스트 이미지가 생성됨
3. **"인터랙티브" 탭** 클릭 (좌측 하단)
4. **"블러 적용"** 버튼 클릭
5. 결과 확인! 🎉

**축하합니다!** Metal로 첫 블러 처리 완료!

---

## 🎮 3분 튜토리얼

### 시나리오 1: Metal vs Core Image 비교 (3분)

**목표**: 두 방식의 속도 차이 직접 체험

```
1. 이미지 탭
   └─ "샘플 생성" 클릭 (중간 크기)

2. 비교 탭
   └─ 블러 반경: 15로 설정
   └─ "비교 실행" 클릭

3. 결과 확인
   ├─ Metal: 약 15-25 ms  ⚡⚡⚡
   └─ Core Image: 약 60-100 ms  ⚡

결론: Metal이 3-4배 빠름!
```

---

## 📱 탭별 사용법

### Tab 1: 인터랙티브 블러

```
┌────────────────────────────┐
│  블러 방식: [Metal] [CI]   │
│  블러 반경: ━━●━━━━ (10)   │
│  [블러 적용]               │
├────────────────────────────┤
│  결과 이미지               │
│  ┌──────────────────┐      │
│  │  (블러된 이미지)   │      │
│  └──────────────────┘      │
│  처리 시간: 15.23 ms       │
└────────────────────────────┘
```

**사용법**:
1. 블러 방식 선택 (Metal 또는 Core Image)
2. 슬라이더로 반경 조절
3. "블러 적용" 버튼 클릭
4. 결과 확인

**팁**:
- 반경 1-10: 약한 블러
- 반경 10-15: 중간 블러
- 반경 15-25: 강한 블러

---

### Tab 2: 벤치마크

```
┌────────────────────────────┐
│  [벤치마크 시작]            │
│  ████████████░░░░ 75%      │
├────────────────────────────┤
│  처리 시간 비교             │
│  ┌──────────────────┐      │
│  │   차트 (iOS 16+)  │      │
│  └──────────────────┘      │
├────────────────────────────┤
│  상세 결과                 │
│  500×500                   │
│  ├─ r=5:  M 3ms, CI 8ms   │
│  └─ r=10: M 5ms, CI 15ms  │
└────────────────────────────┘
```

**사용법**:
1. "벤치마크 시작" 버튼 클릭
2. 진행 상황 관찰 (30-60초)
3. 결과 차트 및 통계 확인

**자동 테스트**:
- 3가지 이미지 크기
- 4가지 블러 반경
- 총 12개 조합

---

### Tab 3: 결과 비교

```
┌────────────────────────────┐
│  블러 반경: ━━━●━━━ (15)   │
│  표시방식: [나란히] [위아래] │
│  [비교 실행]               │
├────────────────────────────┤
│  Metal      │  Core Image  │
│  ┌────┐     │  ┌────┐      │
│  │ 🖼️  │     │  │ 🖼️  │      │
│  └────┘     │  └────┘      │
│  15.2 ms    │  58.7 ms     │
├────────────────────────────┤
│  속도 차이: 3.9배 빠름     │
└────────────────────────────┘
```

**사용법**:
1. 반경 설정
2. 표시 방식 선택
3. "비교 실행" 클릭
4. 두 결과 비교

**표시 방식**:
- **나란히**: 좌우 비교 (품질 확인)
- **위아래**: 상하 비교 (스크롤 편함)

---

### Tab 4: 이미지 선택

```
┌────────────────────────────┐
│  샘플 이미지 생성           │
│  크기: [작게][중간][크게]   │
│  [샘플 생성]               │
├────────────────────────────┤
│  온라인 이미지 다운로드     │
│  크기: [작게][중간][크게]   │
│  시드: ━━━●━━━ (42)        │
│  [다운로드]                │
├────────────────────────────┤
│  현재 이미지               │
│  ┌──────────────────┐      │
│  │  (이미지 미리보기)  │      │
│  └──────────────────┘      │
└────────────────────────────┘
```

**샘플 생성**:
- 그라데이션 + 원 + 텍스트
- 블러 효과 확인에 최적
- 즉시 생성 (빠름)

**온라인 다운로드**:
- Picsum Photos API
- 실제 사진 사용
- 인터넷 연결 필요

---

## 🚀 추천 실습 순서

### 입문자 (10분)

```
1. 샘플 이미지 생성
   └─ 이미지 탭 → "샘플 생성" (중간)

2. 첫 블러 체험
   └─ 인터랙티브 탭 → Metal → "블러 적용"

3. 반경 변화 실험
   └─ 반경 5, 10, 15, 20 각각 적용
   └─ 효과 및 속도 관찰

4. Metal vs Core Image
   └─ 비교 탭 → "비교 실행"
   └─ 속도 차이 확인
```

### 중급자 (20분)

```
1. 다양한 이미지 크기 테스트
   ├─ 작게 생성 → 블러 적용
   ├─ 중간 생성 → 블러 적용
   └─ 크게 생성 → 블러 적용

2. 벤치마크 실행
   └─ 벤치마크 탭 → "벤치마크 시작"
   └─ 결과 분석

3. 문서 학습
   ├─ METAL_BASICS.md
   ├─ GAUSSIAN_BLUR_THEORY.md
   └─ PERFORMANCE_COMPARISON.md
```

### 고급자 (1시간)

```
1. 코드 분석
   ├─ GaussianBlur.metal (Shader 코드)
   ├─ MetalBlurProcessor.swift
   └─ CoreImageBlurProcessor.swift

2. 커스터마이징
   ├─ Shader 수정 (블러 강도 조절)
   ├─ 다른 필터 추가 (Grayscale 등)
   └─ UI 개선

3. 성능 프로파일링
   └─ Xcode Instruments로 GPU 사용률 분석
```

---

## 💡 자주 묻는 질문

### Q1: Metal을 지원하지 않는다고 나와요

**A**: iOS 8.0+ 또는 macOS 10.11+ 필요
- 시뮬레이터: M1/M2 Mac 권장
- 실제 기기: iPhone 5s 이상

### Q2: 이미지 다운로드가 안 돼요

**A**: 인터넷 연결 확인
- WiFi 또는 데이터 켜기
- 방화벽 확인
- 대안: 샘플 이미지 생성 사용

### Q3: 앱이 느려요

**A**: 디바이스 성능에 따라 다름
- 시뮬레이터는 실제 기기보다 느릴 수 있음
- 이미지 크기를 "작게"로 시도
- 반경을 10 이하로 설정

### Q4: Metal과 Core Image 속도가 비슷해요

**A**: 작은 이미지나 작은 반경에서는 차이가 적음
- "크게" 이미지 + 반경 15 이상으로 테스트
- 벤치마크 탭에서 종합 비교

### Q5: 코드를 어떻게 공부하나요?

**A**: 추천 순서
1. README.md (개요)
2. METAL_BASICS.md (Metal 기초)
3. GAUSSIAN_BLUR_THEORY.md (알고리즘)
4. 코드 읽기 (MetalContext → MetalBlurProcessor → GaussianBlur.metal)
5. 실험 (코드 수정해보기)

---

## 🎓 다음 단계

### 학습 완료 후

✅ Metal의 기본 개념 이해  
✅ Compute Shader 작성 경험  
✅ GPU 병렬 처리 체감  
✅ 성능 측정 및 비교  

### 추가 학습

1. **다른 필터 구현**
   - Grayscale 변환
   - 샤프닝
   - 엣지 검출

2. **고급 최적화**
   - Threadgroup Memory 활용
   - 텍스처 캐싱
   - 비동기 처리

3. **실전 적용**
   - 카메라 앱에 필터 추가
   - 사진 편집 기능
   - 실시간 비디오 처리

---

## 📚 관련 문서

- [README.md](README.md) - 전체 개요
- [METAL_BASICS.md](METAL_BASICS.md) - Metal 기본
- [GAUSSIAN_BLUR_THEORY.md](GAUSSIAN_BLUR_THEORY.md) - 블러 이론
- [PERFORMANCE_COMPARISON.md](PERFORMANCE_COMPARISON.md) - 성능 비교

---

## 🆘 문제 해결

### 빌드 에러

```
Error: Command CompileMetalFile failed
→ GaussianBlur.metal에 문법 오류
→ 원본 파일 확인 또는 복원
```

### 런타임 에러

```
Error: Metal을 지원하지 않는 디바이스
→ 최신 시뮬레이터 사용
→ 실제 기기에서 테스트
```

### 성능 문제

```
매우 느린 처리 시간 (>500ms)
→ Debug 빌드 확인 (Release로 변경)
→ 이미지 크기 줄이기
→ 반경 줄이기
```

---

## 🎉 축하합니다!

Metal을 사용한 GPU 프로그래밍의 세계에 오신 것을 환영합니다!

**당신이 배운 것**:
- ⚡ GPU 병렬 처리의 강력함
- 🎨 커스텀 Shader 작성
- 📊 성능 측정 및 최적화
- 🔬 알고리즘의 실제 구현

**이제 할 수 있는 것**:
- 🚀 자신만의 이미지 필터 개발
- 🎮 실시간 그래픽 처리
- 📱 고성능 iOS 앱 제작
- 💡 GPU 컴퓨팅 활용

**Happy Coding! 🔥**

